{
    "ubuntu.make": {
        "name": "make",
        "id": "Ubuntu.Make",
        "parent": "Build",
        "projectRequired": true,
        "group": "ProjectExplorer.Group.Run",
        "submenu": [
            {
                "name": "check",
                "id": "Ubuntu.Make.Check",
                "projectRequired": true,
                "actions": [
                    "%SCRIPTDIRECTORY%/qtc_project_make check"
                ]
            },
            {
                "name": "autopilot",
                "id": "Ubuntu.Make.Autopilot",
                "projectRequired": true,
                "actions": [
                    "%SCRIPTDIRECTORY%/qtc_project_make autopilot"
                ]
            },
            {
                "name": "install",
                "id": "Ubuntu.Make.Install",
                "projectRequired": true,
                "actions": [
                    "%SCRIPTDIRECTORY%/qtc_project_make install"
                ]
            },
            {
                "name": "uninstall",
                "id": "Ubuntu.Make.Uninstall",
                "projectRequired": true,
                "actions": [
                    "%SCRIPTDIRECTORY%/qtc_project_make uninstall"
                ]
            }
        ]
    },
    "ubuntu": {
        "name": "Ubuntu",
        "id": "Ubuntu.Build",
        "parent": "Build",
        "group": "ProjectExplorer.Group.Run",
        "submenu": [
            {
                "name": "Run Application on Device",
                "id": "Ubuntu.Build.Run",
                "workingDirectory": "%0/..",
                "projectRequired": true,
                "keysequence": "Ctrl+F12",
                "deviceRequired": true,
                "qmlProjectRequired": true,
                "saveRequired": true,
                "context" : "QmlProject.ProjectContext",
                "actions": [
                    "%SCRIPTDIRECTORY%/qtc_device_run_app %SERIALNUMBER% qmlscene %FOLDERNAME% %DISPLAYNAME%.desktop %DISPLAYNAME%.qml /home/%USERNAME%/dev_tmp /home/%USERNAME%/.local/share/applications %USERNAME%@%IP% %PORT%"
                ]
            },
            {
                "name": "Run Application on Device",
                "id": "Ubuntu.Build.RunCMake",
                "projectRequired": true,
                "keysequence": "Ctrl+F12",
                "deviceRequired": true,
                "context" : "CMakeProject.ProjectContext",
                "needsClickTarget" : true,
                "saveRequired": true,
                "actions": [
                    "%SCRIPTDIRECTORY%/qtc_device_run_app %SERIALNUMBER% qmlscene %CLICK_PACKAGING_FOLDER% %DISPLAYNAME%.desktop share/qml/%DISPLAYNAME%/%DISPLAYNAME%.qml /home/%USERNAME%/dev_tmp /home/%USERNAME%/.local/share/applications %USERNAME%@%IP% %PORT%"
                ]
            },
            {
                "name": "Run HTML5 Application on Device",
                "id": "Ubuntu.Build.RunHtml5",
                "workingDirectory": "%0/..",
                "projectRequired": true,
                "keysequence": "Ctrl+F12",
                "deviceRequired": true,
                "ubuntuHtmlProjectRequired": true,
                "saveRequired": true,
                "actions": [
                    "%SCRIPTDIRECTORY%/qtc_device_run_app %SERIALNUMBER% %APPRUNNEREXECNAME% %FOLDERNAME% %DISPLAYNAME%.desktop www /home/%USERNAME%/dev_tmp /home/%USERNAME%/.local/share/applications %USERNAME%@%IP% %PORT% --www= --inspector"
                ]
            },
            {
                "name": "Close Application on Device",
                "id": "Ubuntu.Build.CancelRun",
                "keysequence": "Ctrl+Shift+F12",
                "projectRequired": true,
                "deviceRequired": true,
                "qmlProjectRequired": true,
                "actions": [
                    "%SCRIPTDIRECTORY%/qtc_device_close_all_apps %SERIALNUMBER% %DISPLAYNAME%"
                ]
            },
            {
                "name": "Create Application Package",
                "id": "Ubuntu.Build.Package",
                "workingDirectory": "%0/..",
                "projectRequired": true,
                "context": "QmlProject.ProjectContext",
                "ubuntuProjectRequired": true,
                "saveRequired": true,
                "actions": [
                    "%SCRIPTDIRECTORY%/qtc_project_click_create %FOLDERNAME% %BUILDDIR%"
                ]
            },
            {
                "name": "Create Application Package",
                "id": "Ubuntu.Build.PackageCMake",
                "workingDirectory": "%0/..",
                "projectRequired": true,
                "needsClickTarget": true,
                "context": "CMakeProject.ProjectContext",
                "saveRequired": true,
                "actions": [
                    "%SCRIPTDIRECTORY%/qtc_cmakeproject_click_create %CLICK_ARCH% %CLICK_FRAMEWORK% %CLICK_SERIES% %PROJECTDIRECTORY% %DISPLAYNAME%"
                ]
            },
            {
                "name": "Install Application on Device",
                "id": "Ubuntu.Build.PackageInstall",
                "workingDirectory": "%0/..",
                "projectRequired": true,
                "deviceRequired": true,
                "context": ["QmlProject.ProjectContext","UbuntuProject.ProjectContext"],
                "saveRequired": true,
                "actions": [
                    "%SCRIPTDIRECTORY%/qtc_project_click_createanddeploy %SERIALNUMBER% %FOLDERNAME% %USERNAME%@%IP% %PORT% /home/%USERNAME%/dev_tmp %USERNAME%"
                ]
            },
            {
                "name": "Install Application on Device",
                "id": "Ubuntu.Build.PackageInstallCMake",
                "workingDirectory": "%0/..",
                "projectRequired": true,
                "deviceRequired": true,
                "ubuntuProjectRequired": false,
                "saveRequired": true,
                "needsClickTarget": true,
                "context": "CMakeProject.ProjectContext",
                "actions": [
                    "%SCRIPTDIRECTORY%/qtc_cmakeproject_click_createanddeploy %SERIALNUMBER% %FOLDERNAME% %USERNAME%@%IP% %PORT% /home/%USERNAME%/dev_tmp %USERNAME% %CLICK_ARCH% %CLICK_FRAMEWORK% %CLICK_SERIES% %PROJECTDIRECTORY% %DISPLAYNAME%"
                ]
            },
            {
                "name": "Build Application on Device",
                "id": "Ubuntu.Build.Cpp",
                "workingDirectory": "%0/..",
                "projectRequired": true,
                "deviceRequired": true,
                "qmakeProjectRequired": true,
                "saveRequired": true,
                "actions": [
                    "%SCRIPTDIRECTORY%/qtc_device_buildpackage %SERIALNUMBER% %FOLDERNAME% %USERNAME%@%IP% %PORT% /home/%USERNAME%/dev_tmp"
                ]
            },
            {
                "name": "Build and Install Application on Device",
                "id": "Ubuntu.BuildAndInstall.Cpp",
                "workingDirectory": "%0/..",
                "projectRequired": true,
                "deviceRequired": true,
                "qmakeProjectRequired": true,
                "saveRequired": true,
                "actions": [
                    "%SCRIPTDIRECTORY%/qtc_device_buildanddeploypackage %SERIALNUMBER% %FOLDERNAME% %USERNAME%@%IP% %PORT% /home/%USERNAME%/dev_tmp"
                ]
            },
            {
                "name": "Translations",
                "id": "Ubuntu.Menu.i18n",
                "submenu": [
                    {
                        "name": "Update Translations Template",
                        "id": "Ubuntu.Menu.i18n.pot",
                        "projectRequired": true,
                        "qmlProjectRequired": true,
                        "saveRequired": true,
                        "actions": [
                            "%SCRIPTDIRECTORY%/i18n_update_template %DISPLAYNAME% %PROJECTFILES%"
                        ]
                    },
                    {
                        "name": "Build Translations",
                        "id": "Ubuntu.Menu.i18n.mo",
                        "projectRequired": true,
                        "qmlProjectRequired": true,
                        "saveRequired": true,
                        "actions": [
                            "msgfmt po/*.po"
                        ]
                    }
                ]
            }
        ]
    },
    "ubuntuhelp": {
        "name": "Ubuntu",
        "id": "Ubuntu.Help",
        "parent": "Help",
        "submenu": [
            {
                "name": "Getting Started",
                "id": "Ubuntu.Help.GettingStarted",
                "submenu": [
                    {
                        "name": "Go Mobile at developer.ubuntu.com",
                        "id": "Ubuntu.Help.GettingStarted.GoMobile",
                        "actions": [
                            "xdg-open http://developer.ubuntu.com/get-started/gomobile"
                        ]
                    },
                    {
                        "name": "App Design Guides at design.ubuntu.com",
                        "id": "Ubuntu.Help.GettingStarted.AppDesignGuides",
                        "actions": [
                            "xdg-open http://design.ubuntu.com/apps"
                        ]
                    }
                ]
            },
            {
                "name": "Launchpad",
                "id": "Ubuntu.Help.Launchpad",
                "submenu": [
                    {
                        "name": "Create an Account",
                        "id": "Ubuntu.Help.Launchpad.CreateAccount",
                        "actions": [
                            "xdg-open https://launchpad.net/+login"
                        ]
                    },
                    {
                        "name": "Register a Project",
                        "id": "Ubuntu.Help.Launchpad.RegisterProject",
                        "actions": [
                            "xdg-open https://launchpad.net/projects/+new"
                        ]
                    },
                    {
                        "name": "User Guide",
                        "id": "Ubuntu.Help.Launchpad.UserGuide",
                        "actions": [
                            "xdg-open https://help.launchpad.net"
                        ]
                    }
                ]
            }
        ]
    },
    "ubuntutools": {
        "name": "Ubuntu",
        "id": "Ubuntu.Menu",
        "parent": "Tools",
        "submenu": [
             {
                "name": "Showcase Gallery",
                "keysequence": "Ctrl+Shift+S",
                "id": "Ubuntu.Menu.Showcase",
                "actions": [
                    "%SCRIPTDIRECTORY%/qtc_launch_gallery"
                ]
            },
            {
                "name": "Take a screenshot",
                "id": "Ubuntu.Menu.Screenshot",
                "keysequence": "Ctrl+Shift+P",
                "deviceRequired": true,
                "actions": [
                    "adb -s %SERIALNUMBER% root",
                    "adb -s %SERIALNUMBER% shell /system/bin/screencap -p /tmp/screenshot.png",
                    "adb -s %SERIALNUMBER% pull /tmp/screenshot.png /tmp/screenshot.png",
                    "eog -s %SERIALNUMBER% /tmp/screenshot.png"
                ]
            },
            {
                "name": "Mount Device Filesystem",
                "id": "Ubuntu.Menu.MountDeviceFileSystem",
                "keysequence": "Ctrl+Shift+F1",
                "deviceRequired": true,
                "actions": [
                    "nautilus ssh://%USERNAME%@%IP%:%PORT%"
                ]
            },
            {
                "name": "Setup pre-built HTML5 platform Cordova runtime",
                "id": "Ubuntu.Menu.DownloadCordovaRuntime",
                "workingDirectory": "%0/..",
                "projectRequired": true,
                "ubuntuHtmlProjectRequired": true,
                "saveRequired": true,
                "actions": [
                    "%SCRIPTDIRECTORY%/local_get_cordova_runtime %FOLDERNAME%"
                ]
            },
            {
                "name": "GPG",
                "id": "Ubuntu.Menu.gpg",
                "submenu": [
                    { 
                        "name": "Passwords && Keys",
                        "id": "Ubuntu.Menu.gpg.seahorse",
                        "actions": [
                            "seahorse"
                        ]
                    }
                ]
            },
            {
                "name": "Device Control",
                "id": "Ubuntu.Menu.Device",
                "submenu": [
                    {
                        "name": "SSH to Device",
                        "id": "Ubuntu.Menu.Device.SSH",
                        "keysequence": "Ctrl+F10",
                        "deviceRequired": true,
                        "actions": [
                            "x-terminal-emulator -e \"ssh -i ~/.ssh/ubuntudevice_%SERIALNUMBER%_id_rsa -o StrictHostKeyChecking=no -o UserKnownHostsFile=/dev/null %USERNAME%@%IP% -p%PORT%\""
                        ]
                    },
                    {
                        "name": "Enable platform development mode",
                        "id": "Ubuntu.Menu.Device.EnablePlatformDevelopmentMode",
			"keysequence": "Ctrl+F11",
                        "deviceRequired": true,
                        "actions": [
                            "%SCRIPTDIRECTORY%/qtc_device_developertools %SERIALNUMBER%"
                        ]
                    },
                    {
                        "name": "Close All Applications on Device",
                        "id": "Ubuntu.Menu.Device.CloseAllApps",
                        "deviceRequired": true,
                        "actions": [
                            "%SCRIPTDIRECTORY%/qtc_device_close_all_apps %SERIALNUMBER%"
                        ]
                    },
                    {
                        "name": "Flash daily image on device",
                        "id": "Ubuntu.Menu.Device.FlashDaily",
                        "deviceRequired": true,
                        "actions": [
                            "%SCRIPTDIRECTORY%/device_flashdaily %SERIALNUMBER%"
                        ]
                    },
                    {
                        "name": "Flash daily image on device (with bootstrap)",
                        "id": "Ubuntu.Menu.Device.FlashDailyBootstrap",
                        "deviceRequired": true,
                        "actions": [
                            "%SCRIPTDIRECTORY%/device_flashdaily_bootstrap %SERIALNUMBER%"
                        ]
                    },                    
                    {
                        "name": "State",
                        "id": "Ubuntu.Menu.Device.State",
                        "submenu": [
                            {
                                "name": "Reboot",
                                "id": "Ubuntu.Menu.Device.Reboot",
                                "keysequence": "Ctrl+F8",
                                "deviceRequired": true,
                                "actions": [
                                    "adb -s %SERIALNUMBER% root",
                                    "adb -s %SERIALNUMBER% wait-for-device",
                                    "adb -s %SERIALNUMBER% shell chroot /data/ubuntu /usr/bin/env -i PATH=/bin:/usr/bin:/sbin:/usr/sbin:/tools/bin reboot"
                                ]
                            },
                            {
                                "name": "Shutdown",
                                "id": "Ubuntu.Menu.Device.Shutdown",
                                "keysequence": "Ctrl+F9",
                                "deviceRequired": true,
                                "actions": [
                                    "adb -s %SERIALNUMBER% root",
                                    "adb -s %SERIALNUMBER% wait-for-device",
                                    "adb -s %SERIALNUMBER% shell chroot /data/ubuntu /usr/bin/env -i PATH=/bin:/usr/bin:/sbin:/usr/sbin:/tools/bin shutdown -h now"
                                ]
                            }
                        ]
                    }
                ]
            },
            {
                "name": "Device Package Management",
                "id": "Ubuntu.Menu.Device.AptGet",
                "submenu": [
                    {
                        "name": "Run Package Update",
                        "id": "Ubuntu.Menu.Device.AptGet.Update",
                        "deviceRequired": true,
                        "actions": [
                            "adb -s %SERIALNUMBER% root",
                            "adb -s %SERIALNUMBER% wait-for-device",
                            "adb -s %SERIALNUMBER% shell chroot /data/ubuntu /usr/bin/env -i PATH=/bin:/usr/bin:/sbin:/usr/sbin:/tools/bin apt-get update"
                        ]
                    },
                    {
                        "name": "Upgrade Packages",
                        "id": "Ubuntu.Menu.Device.AptGet.Upgrade",
                        "deviceRequired": true,
                        "actions": [
                            "adb -s %SERIALNUMBER% root",
                            "adb -s %SERIALNUMBER% wait-for-device",
                            "x-terminal-emulator -e \"adb -s %SERIALNUMBER% shell chroot /data/ubuntu /usr/bin/env -i PATH=/bin:/usr/bin:/sbin:/usr/sbin:/tools/bin apt-get upgrade\""
                        ]
                    },
                    {
                        "name": "Install Package",
                        "id": "Ubuntu.Menu.Device.AptGet.Install",
                        "deviceRequired": true,
                        "actions": [
                            {
                                "queryDialog": {
                                    "title": "Install Package",
                                    "message": "Package Name:",
                                    "value": "<packagename>"
                                }
                            },
                            "adb -s %SERIALNUMBER% root",
                            "adb -s %SERIALNUMBER% wait-for-device",
                            "adb -s %SERIALNUMBER% shell chroot /data/ubuntu /usr/bin/env -i PATH=/bin:/usr/bin:/sbin:/usr/sbin:/tools/bin apt-get -y install %0"
                        ]
                    },
                    {
                        "name": "Install Package Build Dependencies",
                        "id": "Ubuntu.Menu.Device.AptGet.BuildDep",
                        "deviceRequired": true,
                        "actions": [
                            "adb -s %SERIALNUMBER% root",
                            "adb -s %SERIALNUMBER% wait-for-device",
                            {
                                "queryDialog": {
                                    "title": "Install Package Build Dependencies",
                                    "message": "Package Name:",
                                    "value": "<packagename>"
                                }
                            },
                            "adb -s %SERIALNUMBER% shell chroot /data/ubuntu /usr/bin/env -i PATH=/bin:/usr/bin:/sbin:/usr/sbin:/tools/bin apt-get -y build-dep %0"
                        ]
                    }
                ]
            },            
            {
                "name": "Android Debugging",
                "id": "Ubuntu.Menu.Device.ADB",
                "submenu": [
                    {
                        "name": "adb shell",
                        "id": "Ubuntu.Menu.Device.ADB.shell",
                        "deviceRequired": true,
                        "actions": [
                            "x-terminal-emulator -e \"adb -s %SERIALNUMBER% shell\""
                        ]
                    },
                    {
                        "name": "adb root",
                        "id": "Ubuntu.Menu.Device.ADB.root",
                        "deviceRequired": true,
                        "actions": [
                            "adb -s %SERIALNUMBER% root"
                        ]
                    },
                    {
                        "name": "adb devices",
                        "id": "Ubuntu.Menu.Device.ADB.devices",
                        "actions": [
                            "adb devices"
                        ]
                    },
                    {
                        "name": "adb shell setprop persist.sys.usb.config ptp,adb",
                        "id": "Ubuntu.Menu.Device.ADB.setUsbConfigPtpAdb",
                        "deviceRequired": true,
                        "actions": [
                            "%SCRIPTDIRECTORY%/device_set_persist-sys-usb-config %SERIALNUMBER%"
                        ]
                    }
                ]
            }
        ]
    }
}
