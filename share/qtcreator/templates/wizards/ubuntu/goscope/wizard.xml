<?xml version="1.0" encoding="UTF-8"?>
<wizard version="1" kind="project" firstpage="10"
        id="UbuntuAppWBackendPlusTabsCMake"
        category="A.UbuntuProject"
        platformIndependent="false" 
        class="ubuntu-project-go"
	featuresRequired="GoLang.GoSupport"
        >
    <icon>../share/ubuntu.png</icon>
    <description>A simple Go based Unity Scope</description>
    <displayname>Unity Scope (Go)</displayname>
    <displaycategory>Ubuntu</displaycategory>
    <files>
	<file source="displayName.goproject"
  	      target="%ProjectName%.goproject" openeditor="false" openproject="true"/>
	<file source="displayName.png"
   	      target="%ProjectName%.png" openeditor="false" binary="true"/>
	<file source="displayName.ini"
   	      target="%ClickHookName%.ini" openeditor="false"/>
	<file source="src/displayName/main.go"
   	      target="src/%ProjectName%/main.go" openeditor="true"/>
	<file source="manifest.json"
   	      target="manifest.json" openeditor="false"/>
        <file source="displayName.apparmor"
              target="%ClickHookName%.apparmor" openeditor="false"/>
    </files>

    <!-- Create a 2nd wizard page with click package parameters -->
    <fieldpagetitle>Details</fieldpagetitle>
    <fields>
	<field mandatory="true" name="ClickDomain">
	    <fieldcontrol class="QLineEdit" validator='^[A-Za-z0-9.-]+$'
			  defaulttext="" placeholdertext="Domain"/>
	    <fielddescription>Domain:</fielddescription>
	</field>
	<field mandatory="true" name="ClickMaintainer">
	    <fieldcontrol class="QLineEdit" validator='^[^"]+$'
			  defaulttext="" placeholdertext="Maintainer"/>
	    <fielddescription>Maintainer:</fielddescription>
	</field>
	<field mandatory="true" name="ClickHookName">
	    <fieldcontrol class="QLineEdit" validator='^[A-Za-z0-9.-]+$'
			  defaulttext="myscope" placeholdertext="scope hook name"/>
	    <fielddescription>Scope name:</fielddescription>
	</field>
	<field name="ClickFrameworkVersion">
	    <fieldcontrol class="QComboBox" defaultindex="0">
		<comboentries>
		    <!-- Do not add any other frameworks here, they are populated at runtime, this is just a dummy framework to make sure we can find the combobox -->
		    <comboentry value="ubuntu-sdk-dummy-framework">
			<comboentrytext>Dummy Framework</comboentrytext>
		    </comboentry>
		</comboentries>
	    </fieldcontrol>
	    <fielddescription>Framework:</fielddescription>
	</field>
        <field name="ConfinementType">
            <fieldcontrol class="QComboBox" defaultindex="0">
                <comboentries>
                    <comboentry value="ubuntu-scope-network">
                        <comboentrytext>Scope with network access</comboentrytext>
                    </comboentry>
                    <!--
                    <comboentry value="ubuntu-scope-local-content">
                        <comboentrytext>Scope with local content</comboentrytext>
                    </comboentry>
                    -->
                </comboentries>
            </fieldcontrol>
            <fielddescription>Confinement type:</fielddescription>
        </field>
    </fields>
    <validationrules>
        <validationrule condition='/^(.*)\s+&lt;(.*@.*)&gt;$/.test("%ClickMaintainer%")'>
            <message>Invalid format for maintainer (should be like "Joe Bloggs &lt;joe.bloggs@isp.com&gt;")</message>
        </validationrule>
    </validationrules>
</wizard>
